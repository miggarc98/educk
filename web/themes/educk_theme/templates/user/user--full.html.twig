{#
/**
 * @file
 * Theme override to present all user data.
 *
 * This template is used when viewing a registered user's page,
 * e.g., example.com/user/123. 123 being the user's ID.
 *
 * Available variables:
 * - content: A list of content items. Use 'content' to print all content, or
 *   print a subset such as 'content.field_example'. Fields attached to a user
 *   such as 'user_picture' are available as 'content.user_picture'.
 * - attributes: HTML attributes for the container element.
 * - user: A Drupal User entity.
 *
 * @see template_preprocess_user()
 */
#}



{% set rol ="" %}

<div class="funciones-usuario d-flex flex-wrap justify-content-start align-items-center mb-3 p-3">
  <a href="{{ path('entity.user.edit_form', { user: user.id }) }}" class="editar-usuario btn btn-outline-primary me-2 mb-2">
    <i class="fas fa-edit me-1"></i>
    Editar
  </a>
  <a href="{{ path('user.page') }}" class="actualizar-usuario btn btn-outline-secondary me-2 mb-2">
    <i class="fas fa-clock me-1"></i>
    Actualizar
  </a>
  {% if user.id != 1 %}
    <a href="{{ path('entity.user.cancel_form', { user: user.id }) }}" class="eliminar-usuario btn btn-outline-danger mb-2">
      <i class="fas fa-trash me-1"></i>
      Eliminar
    </a>
  {% endif %}
</div>
<div class="container"> 
  <div class="main-body">
    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="image_profile" class="rounded-circle" width="150" />
              <div class="mt-3">
                <h4>{{ user.getDisplayName() }}</h4>
                <p class="text-secondary mb-1">
                  {% for role in user.roles %}
                    {{ role.entity.label }}
                    {% set rol = role.entity.label %}
                    {% if not loop.last %}
                      ,
                    {% endif %}
                  {% endfor %}
                </p>
                <p class="text-muted font-size-sm">Area: Administrativo</p>
                <button class="btn btn-outline-primary">Message</button>
              </div>
            </div>
          </div>
        </div>
        {% if rol|upper == "MAESTRO"  %}
        <section id="contact-emergency">
          <div class="card mt-3">
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex align-items-center flex-column ">
                <h6 class="mb-0 ">
                  Contacto de Emergencia
                </h6>             
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0">
                  Nombre
                </h6>
                <span class="text-secondary">
                {{ profile.get('field_name_contact_emergency').value ? profile.get('field_name_contact_emergency').value : '*Sin Datos*' }}
                </span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0">
                Telefono
                </h6>
                <span class="text-secondary">
                {{ profile.get('field_number_contact_emergency').value ? profile.get('field_number_contact_emergency').value : '*Sin Datos*' }}              
                </span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0">
                  Parentesco
                </h6>
                <span class="text-secondary">
                {{ profile.get('field_number_contact_emergency').value ? profile.get('field_relationship_emergency_con').value : '*Sin Datos*' }}
                </span>
              </li>            
            </ul>
          </div>
        </section>
      {% endif %}
      </div>
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Nombre completo</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" class="form-control" value="{{ user.getDisplayName() }}" disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Correo electrónico</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="email" class="form-control" value="{{ user.mail.value }}" disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Teléfono de residencia</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="tel" class="form-control" 
                value="{{ profile.get('field_phone_residence').value ? profile.get('field_phone_residence').value : '*Sin Datos*' }}"  disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Teléfono Celular</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="tel" class="form-control" 
                value="{{ profile.get('field_cellphone_number').value ? profile.get('field_cellphone_number').value : '*Sin Datos*' }}" disabled />
              </div>
            </div>            
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Nacionalidad</h6>
              </div>
              <div class="col-sm-9 text-secondary">              
              <input type="text" class="form-control" 
              value="{{ user.field_nacionality.0.value ? user.field_nacionality.0.value : '*Sin Datos*' }}" disabled /> 
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Dirección</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" class="form-control" 
                value="{{ profile.get('field_address').value ? profile.get('field_address').value : '*Sin Datos*' }}" disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Fecha de Nacimiento </h6>
              </div>
              <div class="col-sm-9 text-secondary">
              
                <input type="text" class="form-control" 
                value="{{ user.field_date_born.value ? user.field_date_born.value : '*Sin Datos*' }}"  disabled />
              </div>
            </div>
            <hr />
                 <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Edad </h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" class="form-control" value="{{user.field_date_born.value ? additional_information.age : '*Sin Datos*' }}" disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Dirección</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" class="form-control" value="{{ profile.get('field_address').value ? profile.get('field_address').value : '*Sin Datos*' }}"  disabled />
              </div>
            </div>
            <hr />
              <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Fecha de Ingreso</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" class="form-control" value="{{ profile.get('field_entry_date').value ? profile.get('field_entry_date').value|date("d-m-Y") : '*Sin Datos*' }}" disabled />
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-12">
                <button class="btn btn-info" type="submit">Editar</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row gutters-sm">
        <div class="col-sm-6 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="d-flex align-items-center mb-3"><i class="material-icons text-info mr-2">assignment</i>Project Status</h6>
              <small>Web Design</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>Website Markup</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 72%" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>One Page</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 89%" aria-valuenow="89" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>Mobile Template</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>Backend API</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 66%" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="d-flex align-items-center mb-3"><i class="material-icons text-info mr-2">Rendimiento Academico</h6>
              <small>Web Design</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>Website Markup</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 72%" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>One Page</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 89%" aria-valuenow="89" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>Mobile Template</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <small>Backend API</small>
              <div class="progress mb-3" style="height: 5px">
                <div class="progress-bar bg-primary" role="progressbar" style="width: 66%" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
